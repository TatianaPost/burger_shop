
// VARIABLES
// adjustment
const btn__close = document.querySelector('.btn__close'); // using in --pop up--, --  --
// section --do--
// --pop up--
const sidebar__mobile = document.querySelector('.nav-sidebar__mobile');
const transfer__menu = document.querySelector('.mobile__transfer__menu');
const menu__link = document.querySelectorAll('.transfer_item_link');

sidebar__mobile.addEventListener('click', (e) => {
  e.preventDefault();
  transfer__menu.style.top = '0px';
});
btn__close.addEventListener('click', (e) => {
  transfer__menu.style.top = '-9999px';
});
menu__link.forEach(link => {
  link.addEventListener('click', (e) => {
    e.preventDefault();
    transfer__menu.style.top = '-9999px';
  });
});

// burger --slider-- 
$(function () {

  var moveSlide = function (container, slideNum) {
    var 
      items = container.find('.burger__carousel'),
      activeSlide = items.filter('.burger_is-active')
      reqItem = items.eq(slideNum),
      reqIndex = reqItem.index(),
      list = container.find('.burger__carousel-list'),
      duration = 500;

    if (reqItem.length) {
      list.animate({
        'left': -reqIndex * 100 + '%'
      }, duration, function () {
        activeSlide.removeClass('burger_is-active');
        reqItem.addClass('burger_is-active');
      });
    };
  };


  $('.slider__btn').on('click', function (e) {
    e.preventDefault();

        var $this = $(this),
            container = $this.closest('.burger-slider'),
            items = $('.burger__carousel', container),
            activeItem = items.filter('.burger_is-active'),
            existedItem, edgeItem, reqItem;

    if ($this.hasClass('slider_btn_next')) {// вперед
      existedItem = activeItem.next();
      edgeItem = items.first();
    }
    if ($this.hasClass('slider_btn_prev')) { //назад
      existedItem = activeItem.prev();
      edgeItem = items.last();  
    }
    reqItem = existedItem.length ? existedItem.index() : edgeItem.index();
    
    moveSlide(container, reqItem);

  });
});
//   $('.slider_btn_prev').on('click', function (e) {
//     e.preventDefault();
//     var $this = $(this),
//       container = $this.closest('.burger-slider'),
//       items = container.find('.burger__carousel'),
//       activeSlide = items.filter('.burger_is-active')
//     reqItem = activeSlide.prev(),
//       reqIndex = reqItem.index(),
//       list = container.find('.burger__carousel-list'),
//       duration = 500;

//     if (reqItem.length) {
//       list.animate({
//         'left': -reqIndex * 100 + '%'
//       }, duration, function () {
//         activeSlide.removeClass('burger_is-active');
//         reqItem.addClass('burger_is-active');
//       });
//     }
//   });
// });





// burger --ingridients--
const btnIngridients = document.querySelector('.block__float-ingridients');
const floatIngridients = document.querySelector('.float-ingridients__list');
const ingridients__btn__close = document.querySelector('.ingridients__btn__close');

btnIngridients.addEventListener('mouseover', (e) => {
  floatIngridients.style.opacity = '1';
  floatIngridients.style.left = '100%';
});
ingridients__btn__close.addEventListener('click', (e) => {
  floatIngridients.style.opacity = '0';
  floatIngridients.style.left = '-9999px';
});

// section --Team--
const team__item = document.querySelectorAll('.team__accordeon__item');
const items = document.querySelector('.team__accordeon__list');
const team__section = document.querySelector('.team');

items.addEventListener('click', (e) => {
  e.preventDefault();
  let target = e.target;

  if (target.className === 'team__accordeon__link') {
    let item = target.closest('.team__accordeon__item');
    if (item.classList.contains('team_accordeon_item_active')) {
      item.classList.toggle('team_accordeon_item_active');
    }
    else {
      team__item.forEach(function (item, index) {
        item.classList.remove('team_accordeon_item_active');
      })
      item.classList.add('team_accordeon_item_active');
    }
  }
})
// section --menu--

const menuList = document.querySelector('.menu__accordeon__list');
const menuItem = document.querySelectorAll('.menu__accordeon__item');

menuList.addEventListener('click', (e) => {
  e.preventDefault();
  let target = e.target;
  if (target.className === 'menu__accordeon__link__title') {
    let closestMenuItem = target.closest('.menu__accordeon__item');
    if (closestMenuItem.classList.contains('menu_accordeon_item_active')) {
      closestMenuItem.classList.toggle('menu_accordeon_item_active');
    }
    else {
      menuItem.forEach(function (closestMenuItem, index) {
        closestMenuItem.classList.remove('menu_accordeon_item_active');
      });
      closestMenuItem.classList.add('menu_accordeon_item_active');
    }
  }
});

// modal reviews 


function createOverlay(name, text) {

  const overlayElement = document.createElement('div');
  overlayElement.classList.add('reviews__overlay');

  const template = document.querySelector('#overlayReviews');
  overlayElement.innerHTML = template.innerHTML;

  const closeElement = overlayElement.querySelector('.reviews__overlay-close');
  closeElement.addEventListener('click', (e) => {
    e.preventDefault();
    document.body.removeChild(overlayElement);
  });
  const contentName = overlayElement.querySelector('.reviews__overlay-content__name');
  contentName.innerHTML = name;

  const contentText = overlayElement.querySelector('.reviews__overlay-content__discription');
  contentText.innerHTML = text;

  return overlayElement;
};

const openBtn = document.querySelectorAll('.review__btn__link');
const getName = document.querySelector('.review__name');
const getText = document.querySelector('.review__text');

var name = getName.innerHTML;
var text = getText.innerHTML;
const succesOverlay = createOverlay(name, text);

openBtn.forEach(evenBtn => {
  evenBtn.addEventListener('click', (e) => {
    // var target = e.target;
    // const getText = target.previousSibling('.review__text');
    var name = getName.innerHTML;
    var text = getText.innerHTML;
    document.body.appendChild(succesOverlay);
  });
});

// --Form--

const form = document.querySelector('#form');
const sendButton = document.querySelector('#sendButton');

sendButton.addEventListener('click', (e) => {
  e.preventDefault();
  var objFormNameText = [form.elements.name, form.elements.phone, form.elements.street,
  form.elements.house, form.elements.houseEntr, form.elements.entrance, form.elements.floor,
  form.elements.apartment];
  if (objFormNameText[0]) {
    console.log(form.elements.name.value);
  }
  if (objFormNameText[1]) {
    console.log(form.elements.phone.value);
  }
  if (objFormNameText[2]) {
    console.log(form.elements.street.value);
  }
  if (objFormNameText[3]) {
    console.log(form.elements.house.value);
  }
  if (objFormNameText[4]) {
    console.log(form.elements.houseEntr.value);
  }
  if (objFormNameText[5]) {
    console.log(form.elements.entrance.value);
  }
  if (objFormNameText[6]) {
    console.log(form.elements.floor.value);
  }
  if (objFormNameText[7]) {
    console.log(form.elements.apartment.value);
  }
});

// var array = [1,2,3,4,5,6,7,8,9,10];

// var squared = array.map(num => num * num);
// console.log(squared);





//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vIFZBUklBQkxFU1xuLy8gYWRqdXN0bWVudFxuY29uc3QgYnRuX19jbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG5fX2Nsb3NlJyk7IC8vIHVzaW5nIGluIC0tcG9wIHVwLS0sIC0tICAtLVxuLy8gc2VjdGlvbiAtLWRvLS1cbi8vIC0tcG9wIHVwLS1cbmNvbnN0IHNpZGViYXJfX21vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtc2lkZWJhcl9fbW9iaWxlJyk7XG5jb25zdCB0cmFuc2Zlcl9fbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2JpbGVfX3RyYW5zZmVyX19tZW51Jyk7XG5jb25zdCBtZW51X19saW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRyYW5zZmVyX2l0ZW1fbGluaycpO1xuXG5zaWRlYmFyX19tb2JpbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIHRyYW5zZmVyX19tZW51LnN0eWxlLnRvcCA9ICcwcHgnO1xufSk7XG5idG5fX2Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgdHJhbnNmZXJfX21lbnUuc3R5bGUudG9wID0gJy05OTk5cHgnO1xufSk7XG5tZW51X19saW5rLmZvckVhY2gobGluayA9PiB7XG4gIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0cmFuc2Zlcl9fbWVudS5zdHlsZS50b3AgPSAnLTk5OTlweCc7XG4gIH0pO1xufSk7XG5cbi8vIGJ1cmdlciAtLXNsaWRlci0tIFxuJChmdW5jdGlvbiAoKSB7XG5cbiAgdmFyIG1vdmVTbGlkZSA9IGZ1bmN0aW9uIChjb250YWluZXIsIHNsaWRlTnVtKSB7XG4gICAgdmFyIFxuICAgICAgaXRlbXMgPSBjb250YWluZXIuZmluZCgnLmJ1cmdlcl9fY2Fyb3VzZWwnKSxcbiAgICAgIGFjdGl2ZVNsaWRlID0gaXRlbXMuZmlsdGVyKCcuYnVyZ2VyX2lzLWFjdGl2ZScpXG4gICAgICByZXFJdGVtID0gaXRlbXMuZXEoc2xpZGVOdW0pLFxuICAgICAgcmVxSW5kZXggPSByZXFJdGVtLmluZGV4KCksXG4gICAgICBsaXN0ID0gY29udGFpbmVyLmZpbmQoJy5idXJnZXJfX2Nhcm91c2VsLWxpc3QnKSxcbiAgICAgIGR1cmF0aW9uID0gNTAwO1xuXG4gICAgaWYgKHJlcUl0ZW0ubGVuZ3RoKSB7XG4gICAgICBsaXN0LmFuaW1hdGUoe1xuICAgICAgICAnbGVmdCc6IC1yZXFJbmRleCAqIDEwMCArICclJ1xuICAgICAgfSwgZHVyYXRpb24sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWN0aXZlU2xpZGUucmVtb3ZlQ2xhc3MoJ2J1cmdlcl9pcy1hY3RpdmUnKTtcbiAgICAgICAgcmVxSXRlbS5hZGRDbGFzcygnYnVyZ2VyX2lzLWFjdGl2ZScpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcblxuXG4gICQoJy5zbGlkZXJfX2J0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXG4gICAgICAgICAgICBjb250YWluZXIgPSAkdGhpcy5jbG9zZXN0KCcuYnVyZ2VyLXNsaWRlcicpLFxuICAgICAgICAgICAgaXRlbXMgPSAkKCcuYnVyZ2VyX19jYXJvdXNlbCcsIGNvbnRhaW5lciksXG4gICAgICAgICAgICBhY3RpdmVJdGVtID0gaXRlbXMuZmlsdGVyKCcuYnVyZ2VyX2lzLWFjdGl2ZScpLFxuICAgICAgICAgICAgZXhpc3RlZEl0ZW0sIGVkZ2VJdGVtLCByZXFJdGVtO1xuXG4gICAgaWYgKCR0aGlzLmhhc0NsYXNzKCdzbGlkZXJfYnRuX25leHQnKSkgey8vINCy0L/QtdGA0LXQtFxuICAgICAgZXhpc3RlZEl0ZW0gPSBhY3RpdmVJdGVtLm5leHQoKTtcbiAgICAgIGVkZ2VJdGVtID0gaXRlbXMuZmlyc3QoKTtcbiAgICB9XG4gICAgaWYgKCR0aGlzLmhhc0NsYXNzKCdzbGlkZXJfYnRuX3ByZXYnKSkgeyAvL9C90LDQt9Cw0LRcbiAgICAgIGV4aXN0ZWRJdGVtID0gYWN0aXZlSXRlbS5wcmV2KCk7XG4gICAgICBlZGdlSXRlbSA9IGl0ZW1zLmxhc3QoKTsgIFxuICAgIH1cbiAgICByZXFJdGVtID0gZXhpc3RlZEl0ZW0ubGVuZ3RoID8gZXhpc3RlZEl0ZW0uaW5kZXgoKSA6IGVkZ2VJdGVtLmluZGV4KCk7XG4gICAgXG4gICAgbW92ZVNsaWRlKGNvbnRhaW5lciwgcmVxSXRlbSk7XG5cbiAgfSk7XG59KTtcbi8vICAgJCgnLnNsaWRlcl9idG5fcHJldicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4vLyAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuLy8gICAgIHZhciAkdGhpcyA9ICQodGhpcyksXG4vLyAgICAgICBjb250YWluZXIgPSAkdGhpcy5jbG9zZXN0KCcuYnVyZ2VyLXNsaWRlcicpLFxuLy8gICAgICAgaXRlbXMgPSBjb250YWluZXIuZmluZCgnLmJ1cmdlcl9fY2Fyb3VzZWwnKSxcbi8vICAgICAgIGFjdGl2ZVNsaWRlID0gaXRlbXMuZmlsdGVyKCcuYnVyZ2VyX2lzLWFjdGl2ZScpXG4vLyAgICAgcmVxSXRlbSA9IGFjdGl2ZVNsaWRlLnByZXYoKSxcbi8vICAgICAgIHJlcUluZGV4ID0gcmVxSXRlbS5pbmRleCgpLFxuLy8gICAgICAgbGlzdCA9IGNvbnRhaW5lci5maW5kKCcuYnVyZ2VyX19jYXJvdXNlbC1saXN0JyksXG4vLyAgICAgICBkdXJhdGlvbiA9IDUwMDtcblxuLy8gICAgIGlmIChyZXFJdGVtLmxlbmd0aCkge1xuLy8gICAgICAgbGlzdC5hbmltYXRlKHtcbi8vICAgICAgICAgJ2xlZnQnOiAtcmVxSW5kZXggKiAxMDAgKyAnJSdcbi8vICAgICAgIH0sIGR1cmF0aW9uLCBmdW5jdGlvbiAoKSB7XG4vLyAgICAgICAgIGFjdGl2ZVNsaWRlLnJlbW92ZUNsYXNzKCdidXJnZXJfaXMtYWN0aXZlJyk7XG4vLyAgICAgICAgIHJlcUl0ZW0uYWRkQ2xhc3MoJ2J1cmdlcl9pcy1hY3RpdmUnKTtcbi8vICAgICAgIH0pO1xuLy8gICAgIH1cbi8vICAgfSk7XG4vLyB9KTtcblxuXG5cblxuXG4vLyBidXJnZXIgLS1pbmdyaWRpZW50cy0tXG5jb25zdCBidG5JbmdyaWRpZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ibG9ja19fZmxvYXQtaW5ncmlkaWVudHMnKTtcbmNvbnN0IGZsb2F0SW5ncmlkaWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmxvYXQtaW5ncmlkaWVudHNfX2xpc3QnKTtcbmNvbnN0IGluZ3JpZGllbnRzX19idG5fX2Nsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmluZ3JpZGllbnRzX19idG5fX2Nsb3NlJyk7XG5cbmJ0bkluZ3JpZGllbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIChlKSA9PiB7XG4gIGZsb2F0SW5ncmlkaWVudHMuc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgZmxvYXRJbmdyaWRpZW50cy5zdHlsZS5sZWZ0ID0gJzEwMCUnO1xufSk7XG5pbmdyaWRpZW50c19fYnRuX19jbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gIGZsb2F0SW5ncmlkaWVudHMuc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgZmxvYXRJbmdyaWRpZW50cy5zdHlsZS5sZWZ0ID0gJy05OTk5cHgnO1xufSk7XG5cbi8vIHNlY3Rpb24gLS1UZWFtLS1cbmNvbnN0IHRlYW1fX2l0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGVhbV9fYWNjb3JkZW9uX19pdGVtJyk7XG5jb25zdCBpdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZWFtX19hY2NvcmRlb25fX2xpc3QnKTtcbmNvbnN0IHRlYW1fX3NlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVhbScpO1xuXG5pdGVtcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgbGV0IHRhcmdldCA9IGUudGFyZ2V0O1xuXG4gIGlmICh0YXJnZXQuY2xhc3NOYW1lID09PSAndGVhbV9fYWNjb3JkZW9uX19saW5rJykge1xuICAgIGxldCBpdGVtID0gdGFyZ2V0LmNsb3Nlc3QoJy50ZWFtX19hY2NvcmRlb25fX2l0ZW0nKTtcbiAgICBpZiAoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3RlYW1fYWNjb3JkZW9uX2l0ZW1fYWN0aXZlJykpIHtcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgndGVhbV9hY2NvcmRlb25faXRlbV9hY3RpdmUnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0ZWFtX19pdGVtLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgndGVhbV9hY2NvcmRlb25faXRlbV9hY3RpdmUnKTtcbiAgICAgIH0pXG4gICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ3RlYW1fYWNjb3JkZW9uX2l0ZW1fYWN0aXZlJyk7XG4gICAgfVxuICB9XG59KVxuLy8gc2VjdGlvbiAtLW1lbnUtLVxuXG5jb25zdCBtZW51TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51X19hY2NvcmRlb25fX2xpc3QnKTtcbmNvbnN0IG1lbnVJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1lbnVfX2FjY29yZGVvbl9faXRlbScpO1xuXG5tZW51TGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgbGV0IHRhcmdldCA9IGUudGFyZ2V0O1xuICBpZiAodGFyZ2V0LmNsYXNzTmFtZSA9PT0gJ21lbnVfX2FjY29yZGVvbl9fbGlua19fdGl0bGUnKSB7XG4gICAgbGV0IGNsb3Nlc3RNZW51SXRlbSA9IHRhcmdldC5jbG9zZXN0KCcubWVudV9fYWNjb3JkZW9uX19pdGVtJyk7XG4gICAgaWYgKGNsb3Nlc3RNZW51SXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ21lbnVfYWNjb3JkZW9uX2l0ZW1fYWN0aXZlJykpIHtcbiAgICAgIGNsb3Nlc3RNZW51SXRlbS5jbGFzc0xpc3QudG9nZ2xlKCdtZW51X2FjY29yZGVvbl9pdGVtX2FjdGl2ZScpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIG1lbnVJdGVtLmZvckVhY2goZnVuY3Rpb24gKGNsb3Nlc3RNZW51SXRlbSwgaW5kZXgpIHtcbiAgICAgICAgY2xvc2VzdE1lbnVJdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ21lbnVfYWNjb3JkZW9uX2l0ZW1fYWN0aXZlJyk7XG4gICAgICB9KTtcbiAgICAgIGNsb3Nlc3RNZW51SXRlbS5jbGFzc0xpc3QuYWRkKCdtZW51X2FjY29yZGVvbl9pdGVtX2FjdGl2ZScpO1xuICAgIH1cbiAgfVxufSk7XG5cbi8vIG1vZGFsIHJldmlld3MgXG5cblxuZnVuY3Rpb24gY3JlYXRlT3ZlcmxheShuYW1lLCB0ZXh0KSB7XG5cbiAgY29uc3Qgb3ZlcmxheUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgb3ZlcmxheUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncmV2aWV3c19fb3ZlcmxheScpO1xuXG4gIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI292ZXJsYXlSZXZpZXdzJyk7XG4gIG92ZXJsYXlFbGVtZW50LmlubmVySFRNTCA9IHRlbXBsYXRlLmlubmVySFRNTDtcblxuICBjb25zdCBjbG9zZUVsZW1lbnQgPSBvdmVybGF5RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucmV2aWV3c19fb3ZlcmxheS1jbG9zZScpO1xuICBjbG9zZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG92ZXJsYXlFbGVtZW50KTtcbiAgfSk7XG4gIGNvbnN0IGNvbnRlbnROYW1lID0gb3ZlcmxheUVsZW1lbnQucXVlcnlTZWxlY3RvcignLnJldmlld3NfX292ZXJsYXktY29udGVudF9fbmFtZScpO1xuICBjb250ZW50TmFtZS5pbm5lckhUTUwgPSBuYW1lO1xuXG4gIGNvbnN0IGNvbnRlbnRUZXh0ID0gb3ZlcmxheUVsZW1lbnQucXVlcnlTZWxlY3RvcignLnJldmlld3NfX292ZXJsYXktY29udGVudF9fZGlzY3JpcHRpb24nKTtcbiAgY29udGVudFRleHQuaW5uZXJIVE1MID0gdGV4dDtcblxuICByZXR1cm4gb3ZlcmxheUVsZW1lbnQ7XG59O1xuXG5jb25zdCBvcGVuQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJldmlld19fYnRuX19saW5rJyk7XG5jb25zdCBnZXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJldmlld19fbmFtZScpO1xuY29uc3QgZ2V0VGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXZpZXdfX3RleHQnKTtcblxudmFyIG5hbWUgPSBnZXROYW1lLmlubmVySFRNTDtcbnZhciB0ZXh0ID0gZ2V0VGV4dC5pbm5lckhUTUw7XG5jb25zdCBzdWNjZXNPdmVybGF5ID0gY3JlYXRlT3ZlcmxheShuYW1lLCB0ZXh0KTtcblxub3BlbkJ0bi5mb3JFYWNoKGV2ZW5CdG4gPT4ge1xuICBldmVuQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAvLyB2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgLy8gY29uc3QgZ2V0VGV4dCA9IHRhcmdldC5wcmV2aW91c1NpYmxpbmcoJy5yZXZpZXdfX3RleHQnKTtcbiAgICB2YXIgbmFtZSA9IGdldE5hbWUuaW5uZXJIVE1MO1xuICAgIHZhciB0ZXh0ID0gZ2V0VGV4dC5pbm5lckhUTUw7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzdWNjZXNPdmVybGF5KTtcbiAgfSk7XG59KTtcblxuLy8gLS1Gb3JtLS1cblxuY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb3JtJyk7XG5jb25zdCBzZW5kQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NlbmRCdXR0b24nKTtcblxuc2VuZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgdmFyIG9iakZvcm1OYW1lVGV4dCA9IFtmb3JtLmVsZW1lbnRzLm5hbWUsIGZvcm0uZWxlbWVudHMucGhvbmUsIGZvcm0uZWxlbWVudHMuc3RyZWV0LFxuICBmb3JtLmVsZW1lbnRzLmhvdXNlLCBmb3JtLmVsZW1lbnRzLmhvdXNlRW50ciwgZm9ybS5lbGVtZW50cy5lbnRyYW5jZSwgZm9ybS5lbGVtZW50cy5mbG9vcixcbiAgZm9ybS5lbGVtZW50cy5hcGFydG1lbnRdO1xuICBpZiAob2JqRm9ybU5hbWVUZXh0WzBdKSB7XG4gICAgY29uc29sZS5sb2coZm9ybS5lbGVtZW50cy5uYW1lLnZhbHVlKTtcbiAgfVxuICBpZiAob2JqRm9ybU5hbWVUZXh0WzFdKSB7XG4gICAgY29uc29sZS5sb2coZm9ybS5lbGVtZW50cy5waG9uZS52YWx1ZSk7XG4gIH1cbiAgaWYgKG9iakZvcm1OYW1lVGV4dFsyXSkge1xuICAgIGNvbnNvbGUubG9nKGZvcm0uZWxlbWVudHMuc3RyZWV0LnZhbHVlKTtcbiAgfVxuICBpZiAob2JqRm9ybU5hbWVUZXh0WzNdKSB7XG4gICAgY29uc29sZS5sb2coZm9ybS5lbGVtZW50cy5ob3VzZS52YWx1ZSk7XG4gIH1cbiAgaWYgKG9iakZvcm1OYW1lVGV4dFs0XSkge1xuICAgIGNvbnNvbGUubG9nKGZvcm0uZWxlbWVudHMuaG91c2VFbnRyLnZhbHVlKTtcbiAgfVxuICBpZiAob2JqRm9ybU5hbWVUZXh0WzVdKSB7XG4gICAgY29uc29sZS5sb2coZm9ybS5lbGVtZW50cy5lbnRyYW5jZS52YWx1ZSk7XG4gIH1cbiAgaWYgKG9iakZvcm1OYW1lVGV4dFs2XSkge1xuICAgIGNvbnNvbGUubG9nKGZvcm0uZWxlbWVudHMuZmxvb3IudmFsdWUpO1xuICB9XG4gIGlmIChvYmpGb3JtTmFtZVRleHRbN10pIHtcbiAgICBjb25zb2xlLmxvZyhmb3JtLmVsZW1lbnRzLmFwYXJ0bWVudC52YWx1ZSk7XG4gIH1cbn0pO1xuXG4vLyB2YXIgYXJyYXkgPSBbMSwyLDMsNCw1LDYsNyw4LDksMTBdO1xuXG4vLyB2YXIgc3F1YXJlZCA9IGFycmF5Lm1hcChudW0gPT4gbnVtICogbnVtKTtcbi8vIGNvbnNvbGUubG9nKHNxdWFyZWQpO1xuXG5cblxuXG4iXX0=
